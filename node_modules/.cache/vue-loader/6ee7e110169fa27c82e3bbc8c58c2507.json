{"remainingRequest":"E:\\two\\course\\java2\\timetable-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\two\\course\\java2\\timetable-web\\src\\views\\report\\CourseCountReport.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\two\\course\\java2\\timetable-web\\src\\views\\report\\CourseCountReport.vue","mtime":1751271606975},{"path":"E:\\two\\course\\java2\\timetable-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1751126590335},{"path":"E:\\two\\course\\java2\\timetable-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1751126591257},{"path":"E:\\two\\course\\java2\\timetable-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1751126590335},{"path":"E:\\two\\course\\java2\\timetable-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1751126635753}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCcNCmltcG9ydCBlY2hhcnRzIGZyb20gJ2VjaGFydHMnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0NvdXJzZUNvdW50UmVwb3J0JywNCiAgY29tcG9uZW50czogeyB9LA0KICBwcm9wczogew0KICAgIHN0YXJ0RGF0ZTogU3RyaW5nLA0KICAgIGVuZERhdGU6IFN0cmluZw0KICB9LA0KICBkYXRhICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZGF0YTogW10sDQogICAgICBjb3Vyc2VEYXRhOiBbXSwNCiAgICAgIGNvdW50RGF0YTogW10sDQogICAgICBjb2xvckRhdGE6IFtdLA0KICAgICAgd2lkdGg6ICc2MDBweCcNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAuLi5tYXBBY3Rpb25zKFsnR2V0UmVwb3J0Q291cnNlQ291bnQnXSksDQogICAgc2VhcmNoICgpIHsNCiAgICAgIHRoaXMuR2V0UmVwb3J0Q291cnNlQ291bnQoew0KICAgICAgICBzdGFydERhdGU6IHRoaXMuc3RhcnREYXRlLA0KICAgICAgICBlbmREYXRlOiB0aGlzLmVuZERhdGUNCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBpZiAocmVzKSB7DQogICAgICAgICAgdGhpcy5kYXRhID0gcmVzDQogICAgICAgICAgdGhpcy5jb3Vyc2VEYXRhID0gW10NCiAgICAgICAgICB0aGlzLmNvdW50RGF0YSA9IFtdDQogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIGlmIChpIDwgMTApIHsNCiAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuZGF0YVtpXQ0KICAgICAgICAgICAgICB0aGlzLmNvdXJzZURhdGEucHVzaChpdGVtLm5hbWUpDQogICAgICAgICAgICAgIHRoaXMuY291bnREYXRhLnB1c2goaXRlbS5jb3VudCkNCiAgICAgICAgICAgICAgdGhpcy5jb2xvckRhdGEucHVzaChpdGVtLmNvbG9yKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLmNvdXJzZURhdGEucmV2ZXJzZSgpDQogICAgICAgICAgdGhpcy5jb3VudERhdGEucmV2ZXJzZSgpDQogICAgICAgICAgdGhpcy5jb2xvckRhdGEucmV2ZXJzZSgpDQogICAgICAgICAgdGhpcy5kcmF3KCkNCiAgICAgICAgfQ0KICAgICAgfSkuY2F0Y2goKCkgPT4gew0KICAgICAgfSkNCiAgICB9LA0KICAgIGRyYXcgKCkgew0KICAgICAgY29uc3QgY2hhcnQgPSBlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvdXJzZUNvdW50Q2hhcnQnKSkNCiAgICAgIGNoYXJ0LnNldE9wdGlvbih7DQogICAgICAgIHRpdGxlOiB7DQogICAgICAgICAgdGV4dDogJ1RvcDEwJw0KICAgICAgICB9LA0KICAgICAgICBncmlkOiB7DQogICAgICAgICAgbGVmdDogJzE1JScNCiAgICAgICAgfSwNCiAgICAgICAgeEF4aXM6IHsNCiAgICAgICAgICB0eXBlOiAndmFsdWUnLA0KICAgICAgICAgIG1pbkludGVydmFsOiAxDQogICAgICAgIH0sDQogICAgICAgIHlBeGlzOiB7DQogICAgICAgICAgdHlwZTogJ2NhdGVnb3J5JywNCiAgICAgICAgICBkYXRhOiB0aGlzLmNvdXJzZURhdGENCiAgICAgICAgfSwNCiAgICAgICAgc2VyaWVzOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgdHlwZTogJ2JhcicsDQogICAgICAgICAgICBkYXRhOiB0aGlzLmNvdW50RGF0YSwNCiAgICAgICAgICAgIGxhYmVsOiB7DQogICAgICAgICAgICAgIHNob3c6IHRydWUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBpdGVtU3R5bGU6IHsNCiAgICAgICAgICAgICAgY29sb3I6IGZ1bmN0aW9uIChwYXJhbXMpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gJyM0MDlFRkYnDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIF0NCiAgICAgIH0pDQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgIHN0YXJ0RGF0ZSAodmFsKSB7DQogICAgICB0aGlzLnNlYXJjaCgpDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["CourseCountReport.vue"],"names":[],"mappings":";AAeA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CourseCountReport.vue","sourceRoot":"src/views/report","sourcesContent":["<template>\r\n  <el-row>\r\n    <el-col :style=\"{width: 'calc(100% - '+width+')'}\">\r\n      <el-table stripe border :data=\"data\">\r\n        <el-table-column type=\"index\" label=\"序号\" width=\"50\"></el-table-column>\r\n        <el-table-column prop=\"name\" label=\"课程名称\" width=\"200\"></el-table-column>\r\n        <el-table-column prop=\"count\" label=\"课程数量\"></el-table-column>\r\n      </el-table>\r\n    </el-col>\r\n    <el-col :style=\"{width: width}\">\r\n      <div id=\"courseCountChart\" :style=\"{width: width, height: '600px'}\"></div>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nimport echarts from 'echarts'\r\n\r\nexport default {\r\n  name: 'CourseCountReport',\r\n  components: { },\r\n  props: {\r\n    startDate: String,\r\n    endDate: String\r\n  },\r\n  data () {\r\n    return {\r\n      data: [],\r\n      courseData: [],\r\n      countData: [],\r\n      colorData: [],\r\n      width: '600px'\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['GetReportCourseCount']),\r\n    search () {\r\n      this.GetReportCourseCount({\r\n        startDate: this.startDate,\r\n        endDate: this.endDate\r\n      }).then((res) => {\r\n        if (res) {\r\n          this.data = res\r\n          this.courseData = []\r\n          this.countData = []\r\n          for (let i = 0; i < this.data.length; i++) {\r\n            if (i < 10) {\r\n              const item = this.data[i]\r\n              this.courseData.push(item.name)\r\n              this.countData.push(item.count)\r\n              this.colorData.push(item.color)\r\n            }\r\n          }\r\n          this.courseData.reverse()\r\n          this.countData.reverse()\r\n          this.colorData.reverse()\r\n          this.draw()\r\n        }\r\n      }).catch(() => {\r\n      })\r\n    },\r\n    draw () {\r\n      const chart = echarts.init(document.getElementById('courseCountChart'))\r\n      chart.setOption({\r\n        title: {\r\n          text: 'Top10'\r\n        },\r\n        grid: {\r\n          left: '15%'\r\n        },\r\n        xAxis: {\r\n          type: 'value',\r\n          minInterval: 1\r\n        },\r\n        yAxis: {\r\n          type: 'category',\r\n          data: this.courseData\r\n        },\r\n        series: [\r\n          {\r\n            type: 'bar',\r\n            data: this.countData,\r\n            label: {\r\n              show: true\r\n            },\r\n            itemStyle: {\r\n              color: function (params) {\r\n                return '#409EFF'\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      })\r\n    }\r\n  },\r\n  watch: {\r\n    startDate (val) {\r\n      this.search()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}