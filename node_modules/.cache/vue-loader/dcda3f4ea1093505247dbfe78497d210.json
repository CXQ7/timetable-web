{"remainingRequest":"E:\\two\\course\\java2\\tams-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\two\\course\\java2\\tams-web\\src\\views\\report\\TeacherCourseCountReport.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\two\\course\\java2\\tams-web\\src\\views\\report\\TeacherCourseCountReport.vue","mtime":1751271606976},{"path":"E:\\two\\course\\java2\\tams-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1751126590335},{"path":"E:\\two\\course\\java2\\tams-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1751126591257},{"path":"E:\\two\\course\\java2\\tams-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1751126590335},{"path":"E:\\two\\course\\java2\\tams-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1751126635753}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCcNCmltcG9ydCBlY2hhcnRzIGZyb20gJ2VjaGFydHMnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ1RlYWNoZXJDb3Vyc2VDb3VudFJlcG9ydCcsDQogIGNvbXBvbmVudHM6IHsgfSwNCiAgcHJvcHM6IHsNCiAgICBzdGFydERhdGU6IFN0cmluZywNCiAgICBlbmREYXRlOiBTdHJpbmcNCiAgfSwNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGRhdGE6IFtdLA0KICAgICAgdGVhY2hlckRhdGE6IFtdLA0KICAgICAgY291cnNlQ291bnREYXRhOiBbXSwNCiAgICAgIHdpZHRoOiAnNjAwcHgnDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLi4ubWFwQWN0aW9ucyhbJ0dldFJlcG9ydFRlYWNoZXJDb3VudCddKSwNCiAgICBzZWFyY2ggKCkgew0KICAgICAgdGhpcy5HZXRSZXBvcnRUZWFjaGVyQ291bnQoew0KICAgICAgICBzdGFydERhdGU6IHRoaXMuc3RhcnREYXRlLA0KICAgICAgICBlbmREYXRlOiB0aGlzLmVuZERhdGUNCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBpZiAocmVzKSB7DQogICAgICAgICAgdGhpcy5kYXRhID0gcmVzDQogICAgICAgICAgdGhpcy50ZWFjaGVyRGF0YSA9IFtdDQogICAgICAgICAgdGhpcy5jb3Vyc2VDb3VudERhdGEgPSBbXQ0KICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICBpZiAoaSA8IDEwKSB7DQogICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmRhdGFbaV0NCiAgICAgICAgICAgICAgdGhpcy50ZWFjaGVyRGF0YS5wdXNoKGl0ZW0ubmFtZSkNCiAgICAgICAgICAgICAgdGhpcy5jb3Vyc2VDb3VudERhdGEucHVzaChpdGVtLmNvdW50KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLnRlYWNoZXJEYXRhLnJldmVyc2UoKQ0KICAgICAgICAgIHRoaXMuY291cnNlQ291bnREYXRhLnJldmVyc2UoKQ0KICAgICAgICAgIHRoaXMuZHJhdygpDQogICAgICAgIH0NCiAgICAgIH0pLmNhdGNoKCgpID0+IHsNCiAgICAgIH0pDQogICAgfSwNCiAgICBkcmF3ICgpIHsNCiAgICAgIGNvbnN0IGNoYXJ0ID0gZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZWFjaGVyQ291cnNlQ291bnRDaGFydCcpKQ0KICAgICAgY2hhcnQuc2V0T3B0aW9uKHsNCiAgICAgICAgdGl0bGU6IHsNCiAgICAgICAgICB0ZXh0OiAnVG9wMTAnDQogICAgICAgIH0sDQogICAgICAgIGdyaWQ6IHsNCiAgICAgICAgICBsZWZ0OiAnMTUlJw0KICAgICAgICB9LA0KICAgICAgICB4QXhpczogew0KICAgICAgICAgIHR5cGU6ICd2YWx1ZScsDQogICAgICAgICAgbWluSW50ZXJ2YWw6IDENCiAgICAgICAgfSwNCiAgICAgICAgeUF4aXM6IHsNCiAgICAgICAgICB0eXBlOiAnY2F0ZWdvcnknLA0KICAgICAgICAgIGRhdGE6IHRoaXMudGVhY2hlckRhdGENCiAgICAgICAgfSwNCiAgICAgICAgc2VyaWVzOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgdHlwZTogJ2JhcicsDQogICAgICAgICAgICBkYXRhOiB0aGlzLmNvdXJzZUNvdW50RGF0YSwNCiAgICAgICAgICAgIGxhYmVsOiB7DQogICAgICAgICAgICAgIHNob3c6IHRydWUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBpdGVtU3R5bGU6IHsNCiAgICAgICAgICAgICAgY29sb3I6ICcjNDA5RUZGJw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgXQ0KICAgICAgfSkNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgc3RhcnREYXRlICh2YWwpIHsNCiAgICAgIHRoaXMuc2VhcmNoKCkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["TeacherCourseCountReport.vue"],"names":[],"mappings":";AAeA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TeacherCourseCountReport.vue","sourceRoot":"src/views/report","sourcesContent":["<template>\r\n  <el-row>\r\n    <el-col :style=\"{width: 'calc(100% - '+width+')'}\">\r\n      <el-table stripe border :data=\"data\">\r\n        <el-table-column type=\"index\" label=\"序号\" width=\"50\"></el-table-column>\r\n        <el-table-column prop=\"name\" label=\"老师姓名\" width=\"200\"></el-table-column>\r\n        <el-table-column prop=\"count\" label=\"课程数量\"></el-table-column>\r\n      </el-table>\r\n    </el-col>\r\n    <el-col :style=\"{width: width}\">\r\n      <div id=\"teacherCourseCountChart\" :style=\"{width: width, height: '600px'}\"></div>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nimport echarts from 'echarts'\r\n\r\nexport default {\r\n  name: 'TeacherCourseCountReport',\r\n  components: { },\r\n  props: {\r\n    startDate: String,\r\n    endDate: String\r\n  },\r\n  data () {\r\n    return {\r\n      data: [],\r\n      teacherData: [],\r\n      courseCountData: [],\r\n      width: '600px'\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['GetReportTeacherCount']),\r\n    search () {\r\n      this.GetReportTeacherCount({\r\n        startDate: this.startDate,\r\n        endDate: this.endDate\r\n      }).then((res) => {\r\n        if (res) {\r\n          this.data = res\r\n          this.teacherData = []\r\n          this.courseCountData = []\r\n          for (let i = 0; i < this.data.length; i++) {\r\n            if (i < 10) {\r\n              const item = this.data[i]\r\n              this.teacherData.push(item.name)\r\n              this.courseCountData.push(item.count)\r\n            }\r\n          }\r\n          this.teacherData.reverse()\r\n          this.courseCountData.reverse()\r\n          this.draw()\r\n        }\r\n      }).catch(() => {\r\n      })\r\n    },\r\n    draw () {\r\n      const chart = echarts.init(document.getElementById('teacherCourseCountChart'))\r\n      chart.setOption({\r\n        title: {\r\n          text: 'Top10'\r\n        },\r\n        grid: {\r\n          left: '15%'\r\n        },\r\n        xAxis: {\r\n          type: 'value',\r\n          minInterval: 1\r\n        },\r\n        yAxis: {\r\n          type: 'category',\r\n          data: this.teacherData\r\n        },\r\n        series: [\r\n          {\r\n            type: 'bar',\r\n            data: this.courseCountData,\r\n            label: {\r\n              show: true\r\n            },\r\n            itemStyle: {\r\n              color: '#409EFF'\r\n            }\r\n          }\r\n        ]\r\n      })\r\n    }\r\n  },\r\n  watch: {\r\n    startDate (val) {\r\n      this.search()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}