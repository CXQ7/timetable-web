{"remainingRequest":"E:\\two\\course\\java2\\tams-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\two\\course\\java2\\tams-web\\src\\views\\course-scheduling-list\\CourseSchedulingList.vue?vue&type=style&index=0&id=3934be0d&lang=css","dependencies":[{"path":"E:\\two\\course\\java2\\tams-web\\src\\views\\course-scheduling-list\\CourseSchedulingList.vue","mtime":1751271606973},{"path":"E:\\two\\course\\java2\\tams-web\\node_modules\\css-loader\\dist\\cjs.js","mtime":1751126633661},{"path":"E:\\two\\course\\java2\\tams-web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1751126635753},{"path":"E:\\two\\course\\java2\\tams-web\\node_modules\\postcss-loader\\src\\index.js","mtime":1751126635515},{"path":"E:\\two\\course\\java2\\tams-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1751126590335},{"path":"E:\\two\\course\\java2\\tams-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1751126635753}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQojY291cnNlLXNjaGVkdWxpbmctbGlzdCAuZWwtZm9ybS1pdGVtIHsNCiAgbWFyZ2luLWJvdHRvbTogMDsNCn0NCiNjb3Vyc2Utc2NoZWR1bGluZy1saXN0IC5mb3JtLWl0ZW0gew0KICB3aWR0aDogMjQwcHg7DQp9DQo="},{"version":3,"sources":["CourseSchedulingList.vue"],"names":[],"mappings":";AAsKA;AACA;AACA;AACA;AACA;AACA","file":"CourseSchedulingList.vue","sourceRoot":"src/views/course-scheduling-list","sourcesContent":["<template>\r\n  <el-card shadow=\"never\">\r\n    <div slot=\"header\" class=\"clearfix\">\r\n      <span>排课列表</span>\r\n    </div>\r\n    <div id=\"course-scheduling-list\">\r\n      <el-form inline>\r\n        <el-form-item label=\"日期\">\r\n          <el-date-picker v-model=\"params.dates\"\r\n                          size=\"mini\"\r\n                          :picker-options=\"datePickerOptions\"\r\n                          type=\"daterange\"\r\n                          value-format=\"yyyy-MM-dd\"\r\n                          range-separator=\"至\"\r\n                          start-placeholder=\"开始日期\"\r\n                          end-placeholder=\"结束日期\"\r\n                          style=\"width: 240px;\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"上课时间\">\r\n          <el-time-select size=\"mini\" class=\"form-item\" v-model=\"params.attendTime\" :picker-options=\"timePickerOptions\">\r\n          </el-time-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"下课时间\">\r\n          <el-time-select size=\"mini\" class=\"form-item\" v-model=\"params.finishTime\" :picker-options=\"timePickerOptions\">\r\n          </el-time-select>\r\n        </el-form-item>\r\n        <br/>\r\n        <el-form-item label=\"教室\">\r\n          <el-select ref=\"classroomSelect\" clearable multiple size=\"mini\" class=\"form-item\" v-model=\"params.classroomIdList\">\r\n            <el-option v-for=\"item in classroomData\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"——课程\">\r\n          <el-select ref=\"courseSelect\" clearable multiple size=\"mini\" class=\"form-item\" v-model=\"params.courseIdList\">\r\n            <el-option v-for=\"item in courseData\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"——老师\">\r\n          <el-select ref=\"teacherSelect\" clearable multiple size=\"mini\" class=\"form-item\" v-model=\"params.teacherIdList\">\r\n            <el-option v-for=\"item in teacherData\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <div style=\"float: right; margin: 10px 0;\">\r\n      <el-button type=\"primary\" size=\"small\" @click=\"search\">查询</el-button>\r\n      <el-button type=\"primary\" size=\"small\" @click=\"reset\">重置</el-button>\r\n      <el-button slot=\"reference\" type=\"danger\" size=\"small\" :disabled=\"!(idList && idList.length > 0)\" @click=\"remove\">删除</el-button>\r\n    </div>\r\n    <el-table stripe border :data=\"data\" @selection-change=\"handleSelectionChange\">\r\n      <el-table-column type=\"selection\" width=\"40\"></el-table-column>\r\n      <el-table-column type=\"index\" label=\"序号\" width=\"50\"></el-table-column>\r\n      <el-table-column prop=\"date\" label=\"日期\" width=\"110\"></el-table-column>\r\n      <el-table-column prop=\"attendTime\" label=\"上课时间\" width=\"90\"></el-table-column>\r\n      <el-table-column prop=\"finishTime\" label=\"下课时间\" width=\"90\"></el-table-column>\r\n      <el-table-column prop=\"classroomName\" label=\"教室\" width=\"120\"></el-table-column>\r\n      <el-table-column prop=\"courseName\" label=\"课程\" width=\"120\"></el-table-column>\r\n      <el-table-column prop=\"teacherName\" label=\"老师\"></el-table-column>\r\n    </el-table>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nimport moment from 'moment'\r\n\r\nexport default {\r\n  name: 'CourseSchedulingList',\r\n  data () {\r\n    return {\r\n      currentVisible: false,\r\n      data: [],\r\n      classroomData: [],\r\n      courseData: [],\r\n      teacherData: [],\r\n      params: {},\r\n      idList: [],\r\n      datePickerOptions: {\r\n        firstDayOfWeek: 1\r\n      },\r\n      timePickerOptions: {\r\n        start: '07:00',\r\n        step: '00:' + this.$consts.COURSE_DURATION_STEP_MINUTE,\r\n        end: '20:00'\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['GetClassroomRefList', 'GetCourseRefList', 'GetTeacherRefList', 'GetCourseSchedulingList', 'RemoveCourseSchedulingByIdList']),\r\n    init () {\r\n      this.GetClassroomRefList().then(res => {\r\n        if (res) {\r\n          this.classroomData = res\r\n        }\r\n      }).catch(() => {\r\n      })\r\n      this.GetCourseRefList().then(res => {\r\n        if (res) {\r\n          this.courseData = res\r\n        }\r\n      }).catch(() => {\r\n      })\r\n      this.GetTeacherRefList().then(res => {\r\n        if (res) {\r\n          this.teacherData = res\r\n        }\r\n      }).catch(() => {\r\n      })\r\n\r\n      this.params.startDate = moment().startOf('month').format('YYYY-MM-DD')\r\n      this.params.endDate = moment().endOf('month').format('YYYY-MM-DD')\r\n      this.$set(this.params, 'dates', [this.params.startDate, this.params.endDate])\r\n      this.search()\r\n    },\r\n    search () {\r\n      if (this.params.dates && this.params.dates.length > 0) {\r\n        this.params.startDate = this.params.dates[0]\r\n        this.params.endDate = this.params.dates[1]\r\n      }\r\n      this.GetCourseSchedulingList(this.params).then(res => {\r\n        if (res) {\r\n          this.data = res\r\n        }\r\n      }).catch(() => {\r\n      })\r\n    },\r\n    reset () {\r\n      this.params = {}\r\n      this.params.startDate = moment().startOf('month').format('YYYY-MM-DD')\r\n      this.params.endDate = moment().endOf('month').format('YYYY-MM-DD')\r\n      this.$set(this.params, 'dates', [this.params.startDate, this.params.endDate])\r\n      this.search()\r\n    },\r\n    remove () {\r\n      if (this.idList && this.idList.length > 0) {\r\n        this.$confirm('确定要删除这 ' + this.idList.length + ' 条数据么', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.RemoveCourseSchedulingByIdList(this.idList).then(res => {\r\n            this.search()\r\n          }).catch()\r\n        }).catch(() => {})\r\n      }\r\n    },\r\n    handleSelectionChange (val) {\r\n      this.idList = []\r\n      if (val && val.length > 0) {\r\n        val.forEach(item => {\r\n          this.idList.push(item.id)\r\n        })\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.init()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n#course-scheduling-list .el-form-item {\r\n  margin-bottom: 0;\r\n}\r\n#course-scheduling-list .form-item {\r\n  width: 240px;\r\n}\r\n</style>\r\n"]}]}