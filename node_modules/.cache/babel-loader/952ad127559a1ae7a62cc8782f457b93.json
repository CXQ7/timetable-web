{"remainingRequest":"E:\\two\\course\\java2\\timetable-web\\node_modules\\babel-loader\\lib\\index.js!E:\\two\\course\\java2\\timetable-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\two\\course\\java2\\timetable-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\two\\course\\java2\\timetable-web\\src\\views\\report\\TeacherCourseCountReport.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\two\\course\\java2\\timetable-web\\src\\views\\report\\TeacherCourseCountReport.vue","mtime":1751271606976},{"path":"E:\\two\\course\\java2\\timetable-web\\babel.config.js","mtime":1751271606965},{"path":"E:\\two\\course\\java2\\timetable-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1751126590335},{"path":"E:\\two\\course\\java2\\timetable-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1751126591257},{"path":"E:\\two\\course\\java2\\timetable-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1751126590335},{"path":"E:\\two\\course\\java2\\timetable-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1751126635753}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGVjaGFydHMgZnJvbSAnZWNoYXJ0cyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVGVhY2hlckNvdXJzZUNvdW50UmVwb3J0JywKICBjb21wb25lbnRzOiB7fSwKICBwcm9wczogewogICAgc3RhcnREYXRlOiBTdHJpbmcsCiAgICBlbmREYXRlOiBTdHJpbmcKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhOiBbXSwKICAgICAgdGVhY2hlckRhdGE6IFtdLAogICAgICBjb3Vyc2VDb3VudERhdGE6IFtdLAogICAgICB3aWR0aDogJzYwMHB4JwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoWydHZXRSZXBvcnRUZWFjaGVyQ291bnQnXSksCiAgICBzZWFyY2goKSB7CiAgICAgIHRoaXMuR2V0UmVwb3J0VGVhY2hlckNvdW50KHsKICAgICAgICBzdGFydERhdGU6IHRoaXMuc3RhcnREYXRlLAogICAgICAgIGVuZERhdGU6IHRoaXMuZW5kRGF0ZQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgdGhpcy5kYXRhID0gcmVzOwogICAgICAgICAgdGhpcy50ZWFjaGVyRGF0YSA9IFtdOwogICAgICAgICAgdGhpcy5jb3Vyc2VDb3VudERhdGEgPSBbXTsKICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChpIDwgMTApIHsKICAgICAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5kYXRhW2ldOwogICAgICAgICAgICAgIHRoaXMudGVhY2hlckRhdGEucHVzaChpdGVtLm5hbWUpOwogICAgICAgICAgICAgIHRoaXMuY291cnNlQ291bnREYXRhLnB1c2goaXRlbS5jb3VudCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHRoaXMudGVhY2hlckRhdGEucmV2ZXJzZSgpOwogICAgICAgICAgdGhpcy5jb3Vyc2VDb3VudERhdGEucmV2ZXJzZSgpOwogICAgICAgICAgdGhpcy5kcmF3KCk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaCgoKSA9PiB7fSk7CiAgICB9LAogICAgZHJhdygpIHsKICAgICAgY29uc3QgY2hhcnQgPSBlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RlYWNoZXJDb3Vyc2VDb3VudENoYXJ0JykpOwogICAgICBjaGFydC5zZXRPcHRpb24oewogICAgICAgIHRpdGxlOiB7CiAgICAgICAgICB0ZXh0OiAnVG9wMTAnCiAgICAgICAgfSwKICAgICAgICBncmlkOiB7CiAgICAgICAgICBsZWZ0OiAnMTUlJwogICAgICAgIH0sCiAgICAgICAgeEF4aXM6IHsKICAgICAgICAgIHR5cGU6ICd2YWx1ZScsCiAgICAgICAgICBtaW5JbnRlcnZhbDogMQogICAgICAgIH0sCiAgICAgICAgeUF4aXM6IHsKICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsCiAgICAgICAgICBkYXRhOiB0aGlzLnRlYWNoZXJEYXRhCiAgICAgICAgfSwKICAgICAgICBzZXJpZXM6IFt7CiAgICAgICAgICB0eXBlOiAnYmFyJywKICAgICAgICAgIGRhdGE6IHRoaXMuY291cnNlQ291bnREYXRhLAogICAgICAgICAgbGFiZWw6IHsKICAgICAgICAgICAgc2hvdzogdHJ1ZQogICAgICAgICAgfSwKICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICBjb2xvcjogJyM0MDlFRkYnCiAgICAgICAgICB9CiAgICAgICAgfV0KICAgICAgfSk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgc3RhcnREYXRlKHZhbCkgewogICAgICB0aGlzLnNlYXJjaCgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["mapActions","echarts","name","components","props","startDate","String","endDate","data","teacherData","courseCountData","width","methods","search","GetReportTeacherCount","then","res","i","length","item","push","count","reverse","draw","catch","chart","init","document","getElementById","setOption","title","text","grid","left","xAxis","type","minInterval","yAxis","series","label","show","itemStyle","color","watch","val"],"sources":["src/views/report/TeacherCourseCountReport.vue"],"sourcesContent":["<template>\r\n  <el-row>\r\n    <el-col :style=\"{width: 'calc(100% - '+width+')'}\">\r\n      <el-table stripe border :data=\"data\">\r\n        <el-table-column type=\"index\" label=\"序号\" width=\"50\"></el-table-column>\r\n        <el-table-column prop=\"name\" label=\"老师姓名\" width=\"200\"></el-table-column>\r\n        <el-table-column prop=\"count\" label=\"课程数量\"></el-table-column>\r\n      </el-table>\r\n    </el-col>\r\n    <el-col :style=\"{width: width}\">\r\n      <div id=\"teacherCourseCountChart\" :style=\"{width: width, height: '600px'}\"></div>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nimport echarts from 'echarts'\r\n\r\nexport default {\r\n  name: 'TeacherCourseCountReport',\r\n  components: { },\r\n  props: {\r\n    startDate: String,\r\n    endDate: String\r\n  },\r\n  data () {\r\n    return {\r\n      data: [],\r\n      teacherData: [],\r\n      courseCountData: [],\r\n      width: '600px'\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['GetReportTeacherCount']),\r\n    search () {\r\n      this.GetReportTeacherCount({\r\n        startDate: this.startDate,\r\n        endDate: this.endDate\r\n      }).then((res) => {\r\n        if (res) {\r\n          this.data = res\r\n          this.teacherData = []\r\n          this.courseCountData = []\r\n          for (let i = 0; i < this.data.length; i++) {\r\n            if (i < 10) {\r\n              const item = this.data[i]\r\n              this.teacherData.push(item.name)\r\n              this.courseCountData.push(item.count)\r\n            }\r\n          }\r\n          this.teacherData.reverse()\r\n          this.courseCountData.reverse()\r\n          this.draw()\r\n        }\r\n      }).catch(() => {\r\n      })\r\n    },\r\n    draw () {\r\n      const chart = echarts.init(document.getElementById('teacherCourseCountChart'))\r\n      chart.setOption({\r\n        title: {\r\n          text: 'Top10'\r\n        },\r\n        grid: {\r\n          left: '15%'\r\n        },\r\n        xAxis: {\r\n          type: 'value',\r\n          minInterval: 1\r\n        },\r\n        yAxis: {\r\n          type: 'category',\r\n          data: this.teacherData\r\n        },\r\n        series: [\r\n          {\r\n            type: 'bar',\r\n            data: this.courseCountData,\r\n            label: {\r\n              show: true\r\n            },\r\n            itemStyle: {\r\n              color: '#409EFF'\r\n            }\r\n          }\r\n        ]\r\n      })\r\n    }\r\n  },\r\n  watch: {\r\n    startDate (val) {\r\n      this.search()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"mappings":";AAeA,SAAAA,UAAA;AACA,OAAAC,OAAA;AAEA;EACAC,IAAA;EACAC,UAAA;EACAC,KAAA;IACAC,SAAA,EAAAC,MAAA;IACAC,OAAA,EAAAD;EACA;EACAE,KAAA;IACA;MACAA,IAAA;MACAC,WAAA;MACAC,eAAA;MACAC,KAAA;IACA;EACA;EACAC,OAAA;IACA,GAAAZ,UAAA;IACAa,OAAA;MACA,KAAAC,qBAAA;QACAT,SAAA,OAAAA,SAAA;QACAE,OAAA,OAAAA;MACA,GAAAQ,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA;UACA,KAAAR,IAAA,GAAAQ,GAAA;UACA,KAAAP,WAAA;UACA,KAAAC,eAAA;UACA,SAAAO,CAAA,MAAAA,CAAA,QAAAT,IAAA,CAAAU,MAAA,EAAAD,CAAA;YACA,IAAAA,CAAA;cACA,MAAAE,IAAA,QAAAX,IAAA,CAAAS,CAAA;cACA,KAAAR,WAAA,CAAAW,IAAA,CAAAD,IAAA,CAAAjB,IAAA;cACA,KAAAQ,eAAA,CAAAU,IAAA,CAAAD,IAAA,CAAAE,KAAA;YACA;UACA;UACA,KAAAZ,WAAA,CAAAa,OAAA;UACA,KAAAZ,eAAA,CAAAY,OAAA;UACA,KAAAC,IAAA;QACA;MACA,GAAAC,KAAA,QACA;IACA;IACAD,KAAA;MACA,MAAAE,KAAA,GAAAxB,OAAA,CAAAyB,IAAA,CAAAC,QAAA,CAAAC,cAAA;MACAH,KAAA,CAAAI,SAAA;QACAC,KAAA;UACAC,IAAA;QACA;QACAC,IAAA;UACAC,IAAA;QACA;QACAC,KAAA;UACAC,IAAA;UACAC,WAAA;QACA;QACAC,KAAA;UACAF,IAAA;UACA3B,IAAA,OAAAC;QACA;QACA6B,MAAA,GACA;UACAH,IAAA;UACA3B,IAAA,OAAAE,eAAA;UACA6B,KAAA;YACAC,IAAA;UACA;UACAC,SAAA;YACAC,KAAA;UACA;QACA;MAEA;IACA;EACA;EACAC,KAAA;IACAtC,UAAAuC,GAAA;MACA,KAAA/B,MAAA;IACA;EACA;AACA","ignoreList":[]}]}