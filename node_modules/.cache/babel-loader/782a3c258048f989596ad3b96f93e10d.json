{"remainingRequest":"E:\\two\\course\\java2\\timetable-web\\node_modules\\babel-loader\\lib\\index.js!E:\\two\\course\\java2\\timetable-web\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\two\\course\\java2\\timetable-web\\src\\store\\authentication.js","dependencies":[{"path":"E:\\two\\course\\java2\\timetable-web\\src\\store\\authentication.js","mtime":1751467710942},{"path":"E:\\two\\course\\java2\\timetable-web\\babel.config.js","mtime":1751271606965},{"path":"E:\\two\\course\\java2\\timetable-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1751126590335},{"path":"E:\\two\\course\\java2\\timetable-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1751126591257},{"path":"E:\\two\\course\\java2\\timetable-web\\node_modules\\eslint-loader\\index.js","mtime":1751126628154}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgKiBhcyBBcGkgZnJvbSAnQC9hcGkvYXV0aGVudGljYXRpb24nOwpjb25zdCBhdXRoZW50aWNhdGlvbiA9IHsKICBzdGF0ZTogewogICAgdXNlckluZm86IG51bGwsCiAgICB0b2tlbjogbnVsbAogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBTRVRfVVNFUl9JTkZPKHN0YXRlLCB1c2VySW5mbykgewogICAgICBzdGF0ZS51c2VySW5mbyA9IHVzZXJJbmZvOwogICAgfSwKICAgIFNFVF9UT0tFTihzdGF0ZSwgdG9rZW4pIHsKICAgICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIExvZ2luKHsKICAgICAgY29tbWl0CiAgICB9LCB7CiAgICAgIHVzZXJuYW1lLAogICAgICBwYXNzd29yZAogICAgfSkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIGlmICh1c2VybmFtZSA9PT0gJ2FkbWluJyAmJiBwYXNzd29yZCA9PT0gJzEyMzQ1NicpIHsKICAgICAgICAgIC8vIOaooeaLn+eZu+W9leaIkOWKnwogICAgICAgICAgY29uc3QgdXNlckluZm8gPSB7CiAgICAgICAgICAgIHVzZXJuYW1lOiAnYWRtaW4nLAogICAgICAgICAgICBuYW1lOiAn566h55CG5ZGYJywKICAgICAgICAgICAgcm9sZXM6IFsnYWRtaW4nXSwKICAgICAgICAgICAgZW1haWw6ICdleGFtcGxlQHFxLmNvbScsCiAgICAgICAgICAgIHBob25lOiAnMTIzNDU2Nzg5MDEnCiAgICAgICAgICB9OwogICAgICAgICAgY29tbWl0KCdTRVRfVVNFUl9JTkZPJywgdXNlckluZm8pOwogICAgICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCAn5qih5oufdG9rZW7lgLwnKTsKICAgICAgICAgIHJlc29sdmUodXNlckluZm8pOwogICAgICAgIH0KICAgICAgICBBcGkuZ2V0VXNlckJ5VXNlcm5hbWUodXNlcm5hbWUpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGlmIChyZXMuZGF0YSAmJiByZXMuZGF0YS5wYXNzd29yZCA9PT0gcGFzc3dvcmQpIHsKICAgICAgICAgICAgY29tbWl0KCdTRVRfVVNFUl9JTkZPJywgcmVzLmRhdGEpOwogICAgICAgICAgICBjb21taXQoJ1NFVF9UT0tFTicsICfmqKHmi590b2tlbuWAvCcpOwogICAgICAgICAgICByZXNvbHZlKHJlcy5kYXRhKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ+eUqOaIt+WQjeaIluWvhueggemUmeivrycpKTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIExvZ291dCh7CiAgICAgIGNvbW1pdAogICAgfSkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgY29tbWl0KCdTRVRfVVNFUl9JTkZPJywgbnVsbCk7CiAgICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCBudWxsKTsKICAgICAgICByZXNvbHZlKCk7CiAgICAgIH0pOwogICAgfSwKICAgIEdldFVzZXJCeVVzZXJuYW1lKHsKICAgICAgY29tbWl0CiAgICB9LCB1c2VybmFtZSkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIEFwaS5nZXRVc2VyQnlVc2VybmFtZSh1c2VybmFtZSkudGhlbihyZXMgPT4gewogICAgICAgICAgY29tbWl0KCdTRVRfVVNFUl9JTkZPJywgcmVzLmRhdGEpOwogICAgICAgICAgcmVzb2x2ZShyZXMuZGF0YSk7CiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBTYXZlUmVnaXN0ZXIoewogICAgICBjb21taXQKICAgIH0sIGRhdGEpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBBcGkuc2F2ZVJlZ2lzdGVyKGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGNvbW1pdCgnU0VUX1VTRVJfSU5GTycsIHJlcy5kYXRhLnVzZXJJbmZvKTsKICAgICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgcmVzLmRhdGEudG9rZW4pOwogICAgICAgICAgcmVzb2x2ZShyZXMuZGF0YSk7CiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07CmV4cG9ydCBkZWZhdWx0IGF1dGhlbnRpY2F0aW9uOw=="},{"version":3,"names":["Api","authentication","state","userInfo","token","mutations","SET_USER_INFO","SET_TOKEN","actions","Login","commit","username","password","Promise","resolve","reject","name","roles","email","phone","getUserByUsername","then","res","data","Error","catch","err","Logout","GetUserByUsername","SaveRegister","saveRegister"],"sources":["E:/two/course/java2/timetable-web/src/store/authentication.js"],"sourcesContent":["import * as Api from '@/api/authentication'\r\n\r\nconst authentication = {\r\n  state: {\r\n    userInfo: null,\r\n    token: null\r\n  },\r\n  mutations: {\r\n    SET_USER_INFO (state, userInfo) {\r\n      state.userInfo = userInfo\r\n    },\r\n    SET_TOKEN (state, token) {\r\n      state.token = token\r\n    }\r\n  },\r\n  actions: {\r\n    Login ({ commit }, { username, password }) {\r\n      return new Promise((resolve, reject) => {\r\n        if (username === 'admin' && password === '123456') {\r\n          // 模拟登录成功\r\n          const userInfo = {\r\n            username: 'admin',\r\n            name: '管理员',\r\n            roles: ['admin'],\r\n            email: 'example@qq.com',\r\n            phone: '12345678901'\r\n          }\r\n          commit('SET_USER_INFO', userInfo)\r\n          commit('SET_TOKEN', '模拟token值')\r\n          resolve(userInfo)\r\n        }\r\n        Api.getUserByUsername(username)\r\n          .then(res => {\r\n            if (res.data && res.data.password === password) {\r\n              commit('SET_USER_INFO', res.data)\r\n              commit('SET_TOKEN', '模拟token值')\r\n              resolve(res.data)\r\n            } else {\r\n              reject(new Error('用户名或密码错误'))\r\n            }\r\n          })\r\n          .catch(err => {\r\n            reject(err)\r\n          })\r\n      })\r\n    },\r\n    Logout ({ commit }) {\r\n      return new Promise((resolve) => {\r\n        commit('SET_USER_INFO', null)\r\n        commit('SET_TOKEN', null)\r\n        resolve()\r\n      })\r\n    },\r\n    GetUserByUsername ({ commit }, username) {\r\n      return new Promise((resolve, reject) => {\r\n        Api.getUserByUsername(username)\r\n          .then(res => {\r\n            commit('SET_USER_INFO', res.data)\r\n            resolve(res.data)\r\n          })\r\n          .catch(err => {\r\n            reject(err)\r\n          })\r\n      })\r\n    },\r\n    SaveRegister ({ commit }, data) {\r\n      return new Promise((resolve, reject) => {\r\n        Api.saveRegister(data)\r\n          .then(res => {\r\n            commit('SET_USER_INFO', res.data.userInfo)\r\n            commit('SET_TOKEN', res.data.token)\r\n            resolve(res.data)\r\n          })\r\n          .catch(err => {\r\n            reject(err)\r\n          })\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport default authentication\r\n"],"mappings":"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","ignoreList":[]}]}